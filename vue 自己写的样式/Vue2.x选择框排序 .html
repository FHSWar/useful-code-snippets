<!--
 * @Author: FHSWar
 * @Date: 2021-05-16 08:57:55
 * @Last Edit Time: Do not edit
-->
  <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./vue.js"></script
  </head>
  <body>
    <div id="app">
      <div class="box">
        <div
          class="item"
          v-for="(item) in list"
          :key="item.id"
          @click="select(item)"
          :class="{'active':selectedList.indexOf(item.id) !== -1}"
        >
          <span v-if="selectedList.indexOf(item.id) !== -1">{{selectedList.indexOf(item.id) + 1}}</span>
        </div>
      </div>
    </div>
  </body>
  <script>
    let app = new Vue({
      el: "#app",
      data: {
        list: [
          {id: 123},
          {id: 321},
          {id: 12345},
          {id: 54321},
          {id: 1234567},
        ],
        selectedList: [],
      },
      methods: {
        /*
          1. 标记位不加在原数组中是更好的
          2. 维护的数值能用简单值就不应该上对象
          3. 最重要的, 这样写代码很少
        */
        select(item) {
          const selectedList = this.selectedList
          const index = selectedList.indexOf(item.id)
          index === -1
            ? selectedList.push(item.id)
            : selectedList.splice(index, 1)
        },
      },
    });
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    .box {
      display: flex;
      width: 600px;
      margin: 100px auto;
    }
    .item {
      width: 100px;
      height: 100px;
      background-color: red;
      border: 5px solid transparent;
      margin: 10px;
    }
    .item.active {
      border-color: blue;
    }
  </style>
</html>
